---
title: 無題のファイル
aliases: []
tags:
  - docs
created: 2025-11-27 22:58
---
# Game Boy エミュレータ要件定義書

## 1. 文書の目的

本書は、Android 向け Game Boy エミュレータアプリ（以下、本アプリ）の機能要件および非機能要件を明確化することを目的とする。

## 2. システム概要

本アプリは、Game Boy（DMG）向けソフトウェア（.gb ファイル）を Android 端末上で実行するエミュレータである。  
初期バージョンにおいては、ポケットモンスター 赤（MBC1 カートリッジ）を起動し、タイトル画面からニューゲーム開始までプレイ可能な状態を目標とする。

## 3. 用語定義

- ROM: Game Boy 用ゲームソフトのバイナリファイル（拡張子 .gb）
- コア: CPU・PPU・メモリ等を含むエミュレーションロジック
- UI: Android アプリとしての画面表示および入力部分

## 4. ユースケース定義

### UC-01: ROM を選択してゲームを起動する

- アクター  
  - ユーザ
- 概要  
  - ユーザはストレージから .gb ファイルを選択し、ゲームを起動する。
- 基本フロー  
  1. ユーザが「ROM を開く」ボタンをタップする。  
  2. システムがファイル選択ダイアログ（SAF）を表示する。  
  3. ユーザが .gb ファイルを選択する。  
  4. システムがファイルを読み込み、エミュレータコアにロードする。  
  5. システムがゲームを実行し、画面に描画する。
- 代替フロー  
  - 4a. ファイル形式が不正であった場合、エラーダイアログを表示し、起動を中止する。

### UC-02: ゲームを操作する

- アクター  
  - ユーザ
- 概要  
  - ユーザは画面上の仮想ボタンを操作してゲームをプレイする。
- 基本フロー  
  1. ゲーム実行中、ユーザが仮想ボタン（方向キー、A/B、Start、Select）をタップする。  
  2. システムが入力状態をエミュレータコアに渡す。  
  3. コアが入力に応じてゲーム状態を更新し、次フレームを描画する。

### UC-03: 実行の一時停止および再開

- アクター  
  - ユーザ
- 概要  
  - ユーザはゲームの実行を一時的に停止および再開できる。
- 基本フロー  
  1. ユーザが「一時停止」ボタンをタップする。  
  2. システムがフレーム実行ループを停止する。  
  3. ユーザが「再開」ボタンをタップすると、フレーム実行を再開する。

## 5. 機能要件

### 5.1 ROM ロード

- FR-01: システムは拡張子 .gb のファイルを ROM として読み込めること。  
- FR-02: システムは ROM ヘッダからタイトルおよびカートリッジ種別（MBC1 等）を取得できること。  
- FR-03: 不正な ROM データが与えられた場合、ゲーム実行を開始せずエラーを表示すること。

### 5.2 エミュレーション

- FR-10: システムは LR35902 CPU 命令セットを実装し、ROM のコードを解釈実行できること。  
- FR-11: システムは Game Boy の画面解像度（160x144）でフレームを生成できること。  
- FR-12: システムは MBC1 カートリッジ（ポケモン赤）に必要な ROM バンク切り替え機能を提供すること。  
- FR-13: システムは Joypad 入力を CPU から参照可能な形で提供すること。

### 5.3 UI

- FR-20: システムは Android 画面上にエミュレータ画面と仮想ボタンを同時に表示できること。  
- FR-21: システムは実行／一時停止／再開の操作ボタンを提供すること。  
- FR-22: システムは ROM 読み込みエラー時にユーザへメッセージを表示すること。

## 6. 非機能要件（簡易）

- NFR-01: 一般的なミドルレンジ以上の Android 端末において、ポケモン赤実行時に目視で違和感のないフレームレート（概ね 50 FPS 以上）を維持できること。  
- NFR-02: 長時間連続実行（30 分以上）においてアプリが異常終了しないこと。  
- NFR-03: アプリはインターネットアクセスを必要としないこと。  
- NFR-04: デバッグ用ログ出力はリリースビルドでは最小限とし、性能に悪影響を与えないこと。

## 7. 制約事項

- 対応 ROM: 初期バージョンでは Game Boy（DMG）のみを対象とし、Game Boy Color 固有機能は対象外とする。  
- サウンド: 初期バージョンでは無音または簡易実装とし、完全なサウンド再現は後続フェーズで検討する。
